<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NGFW Complete Guide | Security Engineer Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #0a0a0f; color: #e0e0e0; font-family: 'Inter', system-ui, sans-serif; }
        .card { background: linear-gradient(145deg, #12121a, #1a1a2e); border: 1px solid #2a2a3e; }
        .vendor-palo { border-left: 4px solid #f97316; }
        .vendor-forti { border-left: 4px solid #ef4444; }
        .feature-box { background: linear-gradient(135deg, #0d1f0d 0%, #1a1a2e 100%); border: 1px solid #10b981; }
        .config-box { background: linear-gradient(135deg, #1a1a0d 0%, #1a1a2e 100%); border: 1px solid #f59e0b; }
        .troubleshoot { background: linear-gradient(135deg, #1a0d0d 0%, #1a1a2e 100%); border: 1px solid #ef4444; }
        .interview { background: linear-gradient(135deg, #1a1a2e 0%, #1e1e3e 100%); border: 1px solid #8b5cf6; }
        .request-box { background: linear-gradient(135deg, #0d1a1a 0%, #1a1a2e 100%); border: 1px solid #06b6d4; }
        .diagram { background: #0a0a0f; border: 1px solid #2a2a3e; font-family: 'Courier New', monospace; }
        .cli-block { background: #0d0d14; border: 1px solid #1e3a5f; }
        pre { background: #0d0d14 !important; border-radius: 8px; padding: 16px; overflow-x: auto; }
        code { font-family: 'Courier New', monospace; }
        .step-number { min-width: 28px; height: 28px; }
    </style>
</head>
<body class="min-h-screen">
    <main class="lg:ml-64 lg:pl-6 pt-14 lg:pt-0">
        <div class="max-w-6xl mx-auto px-6 py-12">
            <!-- Hero -->
            <section class="mb-12">
                <div class="flex items-center gap-2 text-orange-400 mb-4">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg>
                    <span class="text-sm font-medium">Network Security Complete Guide</span>
                </div>
                <h1 class="text-4xl font-bold text-white mb-4">Next-Generation Firewalls (NGFW)</h1>
                <p class="text-xl text-gray-400 mb-6">Complete operational guide: Features, Configuration, Deployment, Troubleshooting & Daily Operations</p>
                
                <div class="interview rounded-xl p-5 mb-6">
                    <h3 class="text-purple-400 font-bold text-lg mb-3">ğŸ’¬ 30-Second Interview Answer</h3>
                    <p class="text-gray-300 text-sm leading-relaxed">"NGFWs go beyond traditional port-based firewalls by adding Layer 7 application awareness, user identity integration, integrated IPS, SSL decryption, and threat intelligence. I'm familiar with Fortinet FortiGate which uses FortiOS and Palo Alto which uses PAN-OS. Day-to-day operations include rule optimization, policy changes through change management, troubleshooting connectivity issues, reviewing threat logs, and ensuring HA failover works. The key differentiator is App-ID - the firewall knows the difference between legitimate HTTPS and someone tunneling unauthorized traffic over port 443."</p>
                </div>
            </section>

            <!-- TABLE OF CONTENTS -->
            <section class="mb-12">
                <div class="card rounded-xl p-6">
                    <h3 class="text-white font-bold mb-4">ğŸ“‘ Table of Contents</h3>
                    <div class="grid md:grid-cols-3 gap-4 text-sm">
                        <div>
                            <p class="text-cyan-400 font-medium mb-2">Fundamentals</p>
                            <ul class="text-gray-400 space-y-1">
                                <li>1. Traditional vs NGFW</li>
                                <li>2. NGFW Architecture & Zones</li>
                                <li>3. Traffic Flow Processing</li>
                            </ul>
                        </div>
                        <div>
                            <p class="text-green-400 font-medium mb-2">Features Deep Dive</p>
                            <ul class="text-gray-400 space-y-1">
                                <li>4. Application Identification</li>
                                <li>5. User Identification</li>
                                <li>6. SSL/TLS Decryption</li>
                                <li>7. IPS, URL & Threat Prevention</li>
                            </ul>
                        </div>
                        <div>
                            <p class="text-yellow-400 font-medium mb-2">Operations</p>
                            <ul class="text-gray-400 space-y-1">
                                <li>8. Policy & Rule Configuration</li>
                                <li>9. NAT & High Availability</li>
                                <li>10. Common Requests & Workflows</li>
                                <li>11. Troubleshooting Guide</li>
                                <li>12. Deployment & CLI Reference</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 1: TRADITIONAL VS NGFW -->
            <section class="mb-16">
                <h2 class="text-2xl font-bold mb-6 text-white flex items-center gap-3">
                    <span class="w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center text-blue-400">1</span>
                    Traditional Firewall vs NGFW
                </h2>

                <div class="grid md:grid-cols-2 gap-6 mb-6">
                    <div class="card rounded-xl p-5">
                        <h3 class="text-red-400 font-bold mb-3">âŒ Traditional Firewall (Stateful)</h3>
                        <ul class="text-gray-400 text-sm space-y-2">
                            <li>â€¢ Works at <strong class="text-white">Layer 3-4</strong> (IP addresses, ports)</li>
                            <li>â€¢ Rules: "Allow TCP 443 from 10.0.0.0/24 to any"</li>
                            <li>â€¢ <strong class="text-red-400">Blind</strong> to application content</li>
                            <li>â€¢ Can't distinguish Salesforce from Dropbox (both use 443)</li>
                            <li>â€¢ No SSL inspection - encrypted traffic is opaque</li>
                            <li>â€¢ Separate IPS appliance needed</li>
                            <li>â€¢ IP-based only - no user awareness</li>
                        </ul>
                    </div>
                    <div class="card rounded-xl p-5">
                        <h3 class="text-green-400 font-bold mb-3">âœ… Next-Generation Firewall</h3>
                        <ul class="text-gray-400 text-sm space-y-2">
                            <li>â€¢ Works at <strong class="text-white">Layer 7</strong> (application layer)</li>
                            <li>â€¢ Rules: "Allow Salesforce for Sales team, block Dropbox"</li>
                            <li>â€¢ <strong class="text-green-400">Deep Packet Inspection</strong> (DPI)</li>
                            <li>â€¢ Application awareness regardless of port</li>
                            <li>â€¢ SSL/TLS decryption built-in</li>
                            <li>â€¢ Integrated IPS, sandboxing, threat intel</li>
                            <li>â€¢ User/group-based policies (AD integration)</li>
                        </ul>
                    </div>
                </div>

                <div class="diagram rounded-xl p-4 mb-6">
                    <p class="text-cyan-400 text-sm font-medium mb-3">OSI Model - Where Firewalls Operate</p>
                    <pre class="text-xs text-gray-300">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 7 - Application    â”‚  HTTP, HTTPS, DNS, FTP, SSH, Apps      â”‚ â† NGFW inspects HERE
â”‚  Layer 6 - Presentation   â”‚  SSL/TLS, Encryption                   â”‚ â† NGFW decrypts HERE
â”‚  Layer 5 - Session        â”‚  Sessions, Connections                 â”‚
â”‚  Layer 4 - Transport      â”‚  TCP/UDP, Ports                        â”‚ â† Traditional FW
â”‚  Layer 3 - Network        â”‚  IP Addresses, Routing                 â”‚ â† Traditional FW
â”‚  Layer 2 - Data Link      â”‚  MAC Addresses, Switches               â”‚
â”‚  Layer 1 - Physical       â”‚  Cables, Signals                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Traditional: "Is port 443 allowed?" â†’ Yes â†’ Pass (doesn't care what's inside)
NGFW:        "Is port 443 allowed?" â†’ Yes â†’ "What app?" â†’ "BitTorrent over HTTPS" â†’ BLOCK</pre>
                </div>

                <div class="card rounded-xl p-5">
                    <h3 class="text-white font-bold mb-3">NGFW Core Capabilities</h3>
                    <div class="grid md:grid-cols-3 gap-4">
                        <div class="bg-black/30 rounded-lg p-3">
                            <p class="text-orange-400 font-medium text-sm mb-1">ğŸ” Application Control</p>
                            <p class="text-gray-400 text-xs">Identifies 3000+ apps regardless of port, protocol, or encryption</p>
                        </div>
                        <div class="bg-black/30 rounded-lg p-3">
                            <p class="text-orange-400 font-medium text-sm mb-1">ğŸ‘¤ User Identification</p>
                            <p class="text-gray-400 text-xs">Maps IP â†’ Username via AD/LDAP integration</p>
                        </div>
                        <div class="bg-black/30 rounded-lg p-3">
                            <p class="text-orange-400 font-medium text-sm mb-1">ğŸ” SSL Decryption</p>
                            <p class="text-gray-400 text-xs">Decrypt, inspect, re-encrypt HTTPS traffic</p>
                        </div>
                        <div class="bg-black/30 rounded-lg p-3">
                            <p class="text-orange-400 font-medium text-sm mb-1">ğŸ›¡ï¸ Integrated IPS</p>
                            <p class="text-gray-400 text-xs">Intrusion Prevention with real-time signatures</p>
                        </div>
                        <div class="bg-black/30 rounded-lg p-3">
                            <p class="text-orange-400 font-medium text-sm mb-1">ğŸŒ URL Filtering</p>
                            <p class="text-gray-400 text-xs">Block categories: malware, gambling, adult, etc.</p>
                        </div>
                        <div class="bg-black/30 rounded-lg p-3">
                            <p class="text-orange-400 font-medium text-sm mb-1">ğŸ“¦ Sandboxing</p>
                            <p class="text-gray-400 text-xs">Unknown files analyzed in isolated environment</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 2: ARCHITECTURE & ZONES -->
            <section class="mb-16">
                <h2 class="text-2xl font-bold mb-6 text-white flex items-center gap-3">
                    <span class="w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center text-blue-400">2</span>
                    NGFW Architecture & Security Zones
                </h2>

                <div class="diagram rounded-xl p-4 mb-6">
                    <p class="text-cyan-400 text-sm font-medium mb-3">Typical Enterprise NGFW Deployment</p>
                    <pre class="text-xs text-gray-300">
                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                        â”‚  INTERNET   â”‚
                                        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚           NGFW CLUSTER (HA)               â”‚
                         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
                         â”‚  â”‚  Primary    â”‚   â”‚  Secondary  â”‚        â”‚
                         â”‚  â”‚  FortiGate  â”‚â—„â”€â”€â”‚  FortiGate  â”‚        â”‚
                         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
                         â”‚                                           â”‚
                         â”‚  Zones: UNTRUST | TRUST | DMZ | GUEST     â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚         â”‚         â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                         â”‚                         â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
            â”‚    DMZ        â”‚         â”‚   INTERNAL    â”‚         â”‚    GUEST      â”‚
            â”‚  Web Servers  â”‚         â”‚   10.0.0.0/8  â”‚         â”‚ 192.168.x.x   â”‚
            â”‚  Mail Relay   â”‚         â”‚   Users/Svrs  â”‚         â”‚ Internet Only â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>
                </div>

                <div class="card rounded-xl p-5 mb-6">
                    <h3 class="text-white font-bold mb-4">Security Zones Explained</h3>
                    <div class="space-y-3">
                        <div class="bg-black/30 rounded-lg p-4 flex items-start gap-3">
                            <span class="w-3 h-3 rounded-full bg-red-500 mt-1"></span>
                            <div>
                                <p class="text-red-400 font-medium">UNTRUST / OUTSIDE / WAN</p>
                                <p class="text-gray-400 text-sm">Internet-facing. All inbound untrusted. Default deny inbound.</p>
                            </div>
                        </div>
                        <div class="bg-black/30 rounded-lg p-4 flex items-start gap-3">
                            <span class="w-3 h-3 rounded-full bg-green-500 mt-1"></span>
                            <div>
                                <p class="text-green-400 font-medium">TRUST / INSIDE / LAN</p>
                                <p class="text-gray-400 text-sm">Internal corporate network. Users, workstations, servers. User-ID active.</p>
                            </div>
                        </div>
                        <div class="bg-black/30 rounded-lg p-4 flex items-start gap-3">
                            <span class="w-3 h-3 rounded-full bg-yellow-500 mt-1"></span>
                            <div>
                                <p class="text-yellow-400 font-medium">DMZ (Demilitarized Zone)</p>
                                <p class="text-gray-400 text-sm">Public-facing servers. Internet accessible but isolated from internal.</p>
                            </div>
                        </div>
                        <div class="bg-black/30 rounded-lg p-4 flex items-start gap-3">
                            <span class="w-3 h-3 rounded-full bg-purple-500 mt-1"></span>
                            <div>
                                <p class="text-purple-400 font-medium">GUEST</p>
                                <p class="text-gray-400 text-sm">Guest WiFi. Internet access only. Completely isolated from internal.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="feature-box rounded-xl p-5">
                    <h3 class="text-green-400 font-bold mb-3">Zone-Based Policy Logic</h3>
                    <div class="cli-block rounded-lg p-3">
                        <pre class="text-xs text-gray-300">
Common Zone Policies:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
From Zone    â†’ To Zone     â”‚ Policy
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
TRUST        â†’ UNTRUST     â”‚ Allow web, email; block P2P
TRUST        â†’ DMZ         â”‚ Allow access to internal web apps
UNTRUST      â†’ DMZ         â”‚ Allow HTTPS to web servers
UNTRUST      â†’ TRUST       â”‚ DENY ALL (except VPN)
DMZ          â†’ TRUST       â”‚ Limited: DB connections only
GUEST        â†’ UNTRUST     â”‚ Internet only
GUEST        â†’ TRUST       â”‚ DENY ALL
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</pre>
                    </div>
                </div>
            </section>

            <!-- SECTION 3: TRAFFIC FLOW -->
            <section class="mb-16">
                <h2 class="text-2xl font-bold mb-6 text-white flex items-center gap-3">
                    <span class="w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center text-blue-400">3</span>
                    Traffic Flow Processing
                </h2>

                <div class="diagram rounded-xl p-4 mb-6">
                    <p class="text-cyan-400 text-sm font-medium mb-3">How NGFW Processes Each Session</p>
                    <pre class="text-xs text-gray-300">
NGFW Traffic Processing Pipeline:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
PACKET IN â†’

Step 1: Session Lookup
â”œâ”€ Existing session? â†’ Use cached decision â†’ FORWARD
â””â”€ New session? â†’ Continue to Step 2

Step 2: Zone Identification
â”œâ”€ Ingress interface â†’ Source Zone (e.g., TRUST)
â””â”€ Routing lookup â†’ Destination Zone (e.g., UNTRUST)

Step 3: User Identification (User-ID)
â”œâ”€ Source IP â†’ User mapping lookup
â””â”€ Result: "10.1.1.50 = jsmith@company.com (Sales Group)"

Step 4: Application Identification (App-ID)
â”œâ”€ Initial: Port-based guess (TCP 443 = ssl)
â”œâ”€ After handshake: Protocol decode (HTTPS)
â”œâ”€ After inspection: App signature match
â””â”€ Final: "office365-enterprise"

Step 5: SSL Decryption (if configured)
â”œâ”€ Decrypt with firewall's CA certificate
â”œâ”€ Inspect plaintext content
â””â”€ Re-encrypt before forwarding

Step 6: Security Policy Match
â”œâ”€ Match: Zone + User + App + Destination
â”œâ”€ First matching rule wins (top-down)
â””â”€ Actions: Allow, Deny, Drop, Reset

Step 7: Content Inspection (if allowed)
â”œâ”€ IPS: Check for exploits
â”œâ”€ Antivirus: Scan files
â”œâ”€ URL Filtering: Check category
â””â”€ Sandboxing: Unknown files

Step 8: Logging & Forward â†’ PACKET OUT
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</pre>
                </div>

                <div class="card rounded-xl p-5">
                    <h3 class="text-white font-bold mb-3">Key Concept: First Match Wins</h3>
                    <p class="text-gray-300 text-sm mb-4">Security policies are processed <strong>top-to-bottom</strong>. The first rule that matches is applied.</p>
                    <div class="cli-block rounded-lg p-3">
                        <pre class="text-xs text-green-400">
Rule Order Example:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
#   Name                Source      App           Action
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1   Block-Malware       Any         high-risk     DENY
2   Allow-IT-Admin      IT-Group    Any           ALLOW
3   Allow-Sales-CRM     Sales       salesforce    ALLOW
4   Allow-Web           Internal    web-browsing  ALLOW
5   Block-Social        Internal    social-media  DENY
6   Default-Deny        Any         Any           DENY
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

IMPORTANT: More specific rules go FIRST, general rules go LAST</pre>
                    </div>
                </div>
            </section>

            <!-- SECTION 4: APPLICATION IDENTIFICATION -->
            <section class="mb-16">
                <h2 class="text-2xl font-bold mb-6 text-white flex items-center gap-3">
                    <span class="w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center text-green-400">4</span>
                    Application Identification (App-ID)
                </h2>

                <div class="feature-box rounded-xl p-5 mb-6">
                    <h3 class="text-green-400 font-bold mb-3">What is App-ID?</h3>
                    <p class="text-gray-300 text-sm mb-4">App-ID identifies applications regardless of port, protocol, or encryption. This is the core NGFW differentiator.</p>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-black/30 rounded-lg p-4">
                            <p class="text-red-400 font-medium text-sm mb-2">Traditional Firewall:</p>
                            <p class="text-gray-400 text-xs">"I see TCP port 443 traffic"</p>
                            <p class="text-gray-500 text-xs">No idea if it's Office365 or malware C2</p>
                        </div>
                        <div class="bg-black/30 rounded-lg p-4">
                            <p class="text-green-400 font-medium text-sm mb-2">NGFW with App-ID:</p>
                            <p class="text-gray-400 text-xs">"I see Microsoft Teams from user jsmith"</p>
                            <p class="text-gray-500 text-xs">Full visibility into app, user, context</p>
                        </div>
                    </div>
                </div>

                <div class="card rounded-xl p-5 mb-6">
                    <h3 class="text-white font-bold mb-4">How App-ID Works (4-Stage Process)</h3>
                    <div class="space-y-3">
                        <div class="flex gap-4 items-start">
                            <span class="w-7 h-7 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400 font-bold text-sm shrink-0">1</span>
                            <div>
                                <p class="text-blue-400 font-medium">Protocol Detection</p>
                                <p class="text-gray-400 text-sm">Decodes protocol regardless of port. Detects "HTTP on port 8080".</p>
                            </div>
                        </div>
                        <div class="flex gap-4 items-start">
                            <span class="w-7 h-7 rounded-full bg-green-500/20 flex items-center justify-center text-green-400 font-bold text-sm shrink-0">2</span>
                            <div>
                                <p class="text-green-400 font-medium">Protocol Decoding</p>
                                <p class="text-gray-400 text-sm">Decodes application layer. For HTTP: headers, URLs, methods.</p>
                            </div>
                        </div>
                        <div class="flex gap-4 items-start">
                            <span class="w-7 h-7 rounded-full bg-yellow-500/20 flex items-center justify-center text-yellow-400 font-bold text-sm shrink-0">3</span>
                            <div>
                                <p class="text-yellow-400 font-medium">Application Signatures</p>
                                <p class="text-gray-400 text-sm">Matches against 3000+ app signatures. Updated from vendor cloud.</p>
                            </div>
                        </div>
                        <div class="flex gap-4 items-start">
                            <span class="w-7 h-7 rounded-full bg-purple-500/20 flex items-center justify-center text-purple-400 font-bold text-sm shrink-0">4</span>
                            <div>
                                <p class="text-purple-400 font-medium">Heuristics</p>
                                <p class="text-gray-400 text-sm">Behavioral patterns for unknown traffic.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="config-box rounded-xl p-5 mb-6">
                    <h3 class="text-yellow-400 font-bold mb-3">App-ID Examples</h3>
                    <div class="grid md:grid-cols-2 gap-4 text-sm">
                        <div>
                            <p class="text-white font-medium mb-2">Business Apps (Usually Allowed)</p>
                            <ul class="text-gray-400 space-y-1">
                                <li>â€¢ <code class="text-cyan-400">salesforce</code> - CRM</li>
                                <li>â€¢ <code class="text-cyan-400">office365-enterprise</code> - M365</li>
                                <li>â€¢ <code class="text-cyan-400">ms-teams</code> - Meetings</li>
                                <li>â€¢ <code class="text-cyan-400">slack</code>, <code class="text-cyan-400">zoom</code></li>
                            </ul>
                        </div>
                        <div>
                            <p class="text-white font-medium mb-2">Risk Apps (Often Blocked)</p>
                            <ul class="text-gray-400 space-y-1">
                                <li>â€¢ <code class="text-red-400">bittorrent</code> - P2P</li>
                                <li>â€¢ <code class="text-red-400">tor</code> - Anonymization</li>
                                <li>â€¢ <code class="text-red-400">ultrasurf</code> - Proxy evasion</li>
                                <li>â€¢ <code class="text-red-400">unknown-tcp</code> - Unidentified</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="cli-block rounded-xl p-5">
                    <h3 class="text-cyan-400 font-bold mb-3">CLI: View Application Traffic</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <p class="text-gray-400 text-xs mb-2">Palo Alto:</p>
                            <pre class="text-xs text-green-400">> show running application
> show session all filter application salesforce
> test security-policy-match source 10.1.1.50 \
    destination 8.8.8.8 protocol 6 \
    destination-port 443</pre>
                        </div>
                        <div>
                            <p class="text-gray-400 text-xs mb-2">FortiGate:</p>
                            <pre class="text-xs text-green-400">> get system fortiguard-service status
> diagnose sys session list
> diagnose sys top-applications</pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 5: USER IDENTIFICATION -->
            <section class="mb-16">
                <h2 class="text-2xl font-bold mb-6 text-white flex items-center gap-3">
                    <span class="w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center text-green-400">5</span>
                    User Identification (User-ID)
                </h2>

                <div class="feature-box rounded-xl p-5 mb-6">
                    <h3 class="text-green-400 font-bold mb-3">What is User-ID?</h3>
                    <p class="text-gray-300 text-sm mb-4">User-ID maps IP addresses to usernames and AD groups, enabling identity-based security policies.</p>
                    <div class="cli-block rounded-lg p-3">
                        <pre class="text-xs text-gray-300">
Without User-ID: "Allow 10.1.1.50 to access finance server"
  Problem: Who is 10.1.1.50? What if DHCP changes IP?

With User-ID: "Allow Finance-Department group to access finance server"
  Benefit: Works regardless of IP, laptop, or location</pre>
                    </div>
                </div>

                <div class="card rounded-xl p-5 mb-6">
                    <h3 class="text-white font-bold mb-4">User-ID Source Methods</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-black/30 rounded-lg p-4">
                            <p class="text-cyan-400 font-medium mb-2">Active Directory (Most Common)</p>
                            <p class="text-gray-400 text-sm">Monitors AD Event ID 4624 (login events). FW sees login, maps IP â†’ User.</p>
                        </div>
                        <div class="bg-black/30 rounded-lg p-4">
                            <p class="text-cyan-400 font-medium mb-2">Captive Portal</p>
                            <p class="text-gray-400 text-sm">Unknown users redirected to login page. For BYOD, guests.</p>
                        </div>
                        <div class="bg-black/30 rounded-lg p-4">
                            <p class="text-cyan-400 font-medium mb-2">VPN Integration</p>
                            <p class="text-gray-400 text-sm">VPN client provides identity at connection.</p>
                        </div>
                        <div class="bg-black/30 rounded-lg p-4">
                            <p class="text-cyan-400 font-medium mb-2">Syslog Parsing</p>
                            <p class="text-gray-400 text-sm">Parse logs from 802.1X, NAC, wireless controllers.</p>
                        </div>
                    </div>
                </div>

                <div class="cli-block rounded-xl p-5">
                    <h3 class="text-cyan-400 font-bold mb-3">CLI: User-ID Commands</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <p class="text-gray-400 text-xs mb-2">Palo Alto:</p>
                            <pre class="text-xs text-green-400">> show user ip-user-mapping all
> show user ip-user-mapping ip 10.1.1.50
> show user group-mapping
> show user user-id-agent state all
> clear user-cache ip 10.1.1.50</pre>
                        </div>
                        <div>
                            <p class="text-gray-400 text-xs mb-2">FortiGate:</p>
                            <pre class="text-xs text-green-400">> diagnose debug authd fsso list
> diagnose firewall auth list
> get user ldap
> diagnose debug authd fsso server-status</pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 6: SSL DECRYPTION -->
            <section class="mb-16">
                <h2 class="text-2xl font-bold mb-6 text-white flex items-center gap-3">
                    <span class="w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center text-green-400">6</span>
                    SSL/TLS Decryption
                </h2>

                <div class="feature-box rounded-xl p-5 mb-6">
                    <h3 class="text-green-400 font-bold mb-3">Why SSL Decryption?</h3>
                    <p class="text-gray-300 text-sm mb-4">~90% of internet traffic is encrypted. Without decryption, the NGFW is blind to:</p>
                    <ul class="text-gray-400 text-sm space-y-1 mb-4">
                        <li>â€¢ Malware downloaded over HTTPS</li>
                        <li>â€¢ Command & Control (C2) traffic</li>
                        <li>â€¢ Data exfiltration to cloud storage</li>
                        <li>â€¢ Malicious URLs in encrypted traffic</li>
                    </ul>
                    <div class="bg-red-500/10 border border-red-500/30 rounded-lg p-3">
                        <p class="text-red-400 text-sm"><strong>Without SSL decryption:</strong> Only see Source IP, Destination IP, SNI (server name). Content is opaque.</p>
                    </div>
                </div>

                <div class="diagram rounded-xl p-4 mb-6">
                    <p class="text-cyan-400 text-sm font-medium mb-3">SSL Decryption Flow (Forward Proxy)</p>
                    <pre class="text-xs text-gray-300">
CLIENT                         NGFW                           SERVER
   â”‚                             â”‚                               â”‚
   â”‚  1. Client Hello            â”‚                               â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  2. Intercept SNI             â”‚
   â”‚                             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
   â”‚                             â”‚  3. Server Hello + Cert       â”‚
   â”‚                             â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   â”‚  4. FW presents its own     â”‚                               â”‚
   â”‚     certificate to client   â”‚                               â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                               â”‚
   â”‚  5. Client encrypts         â”‚  6. FW decrypts, inspects,    â”‚
   â”‚     with FW cert            â”‚     re-encrypts with server   â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
   â”‚                             â”‚                               â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€ Plaintext â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€ Encrypted â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        (FW sees content)              (Original encryption)

REQUIREMENT: FW's CA cert must be trusted by clients (deploy via GPO/MDM)</pre>
                </div>

                <div class="config-box rounded-xl p-5">
                    <h3 class="text-yellow-400 font-bold mb-3">âš ï¸ SSL Decryption Exclusions (Never Decrypt)</h3>
                    <div class="grid md:grid-cols-2 gap-4 text-sm">
                        <div>
                            <p class="text-white font-medium mb-2">Legal/Privacy:</p>
                            <ul class="text-gray-400 space-y-1">
                                <li>â€¢ <strong>Banking/Financial</strong></li>
                                <li>â€¢ <strong>Healthcare (HIPAA)</strong></li>
                                <li>â€¢ <strong>Government sites</strong></li>
                            </ul>
                        </div>
                        <div>
                            <p class="text-white font-medium mb-2">Technical:</p>
                            <ul class="text-gray-400 space-y-1">
                                <li>â€¢ <strong>Certificate pinning apps</strong></li>
                                <li>â€¢ <strong>Client cert auth (mTLS)</strong></li>
                                <li>â€¢ <strong>Windows Update</strong></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 7: IPS, URL, THREAT -->
            <section class="mb-16">
                <h2 class="text-2xl font-bold mb-6 text-white flex items-center gap-3">
                    <span class="w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center text-green-400">7</span>
                    IPS, URL Filtering & Threat Prevention
                </h2>

                <div class="grid md:grid-cols-3 gap-6 mb-6">
                    <div class="card rounded-xl p-5">
                        <h3 class="text-cyan-400 font-bold mb-3">ğŸ›¡ï¸ IPS (Intrusion Prevention)</h3>
                        <p class="text-gray-400 text-sm mb-3">Inspects for attack signatures and exploits.</p>
                        <ul class="text-gray-400 text-xs space-y-1">
                            <li>â€¢ Vulnerability exploits (CVEs)</li>
                            <li>â€¢ Protocol anomalies</li>
                            <li>â€¢ Malware/C2 signatures</li>
                        </ul>
                        <p class="text-white text-xs font-medium mt-3">Actions: BLOCK, ALERT, ALLOW, RESET</p>
                    </div>
                    <div class="card rounded-xl p-5">
                        <h3 class="text-cyan-400 font-bold mb-3">ğŸŒ URL Filtering</h3>
                        <p class="text-gray-400 text-sm mb-3">Categorizes websites, enforces access policy.</p>
                        <ul class="text-gray-400 text-xs space-y-1">
                            <li>â€¢ Block: malware, phishing, adult</li>
                            <li>â€¢ Restrict: social, streaming</li>
                            <li>â€¢ Allow: business, education</li>
                        </ul>
                        <p class="text-white text-xs font-medium mt-3">Actions: ALLOW, BLOCK, CONTINUE, OVERRIDE</p>
                    </div>
                    <div class="card rounded-xl p-5">
                        <h3 class="text-cyan-400 font-bold mb-3">ğŸ“¦ Sandboxing</h3>
                        <p class="text-gray-400 text-sm mb-3">Unknown files analyzed in cloud sandbox.</p>
                        <ul class="text-gray-400 text-xs space-y-1">
                            <li>â€¢ WildFire (Palo Alto)</li>
                            <li>â€¢ FortiSandbox (Fortinet)</li>
                            <li>â€¢ Verdict in ~5 minutes</li>
                        </ul>
                        <p class="text-white text-xs font-medium mt-3">Flow: File â†’ Hash check â†’ Unknown? â†’ Sandbox</p>
                    </div>
                </div>

                <div class="cli-block rounded-xl p-5">
                    <h3 class="text-cyan-400 font-bold mb-3">CLI: URL & Threat Commands</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <p class="text-gray-400 text-xs mb-2">Palo Alto:</p>
                            <pre class="text-xs text-green-400"># Check URL category
> test url www.facebook.com

# Show threat logs
> show log threat

# Show URL logs
> show log url</pre>
                        </div>
                        <div>
                            <p class="text-gray-400 text-xs mb-2">FortiGate:</p>
                            <pre class="text-xs text-green-400"># Test URL category
> diagnose debug rating
> exec webfilter rating www.facebook.com

# Show webfilter profile
> show webfilter profile</pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 8: POLICY CONFIGURATION -->
            <section class="mb-16">
                <h2 class="text-2xl font-bold mb-6 text-white flex items-center gap-3">
                    <span class="w-8 h-8 rounded-lg bg-yellow-500/20 flex items-center justify-center text-yellow-400">8</span>
                    Policy & Rule Configuration
                </h2>

                <div class="config-box rounded-xl p-5 mb-6">
                    <h3 class="text-yellow-400 font-bold mb-3">Security Policy Structure</h3>
                    <div class="cli-block rounded-lg p-4">
                        <pre class="text-xs text-green-400">
SECURITY RULE STRUCTURE:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
MATCH CRITERIA:
  Source Zone:        TRUST
  Source Address:     10.0.0.0/8 or address group
  Source User:        domain\sales-group
  Destination Zone:   UNTRUST
  Destination Address: Any
  Application:        salesforce, office365
  Service/Port:       application-default

ACTION:
  Action:             ALLOW
  Log:                Log at session end
  Security Profile:   AV, IPS, URL filtering
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</pre>
                    </div>
                </div>

                <div class="card rounded-xl p-5 mb-6">
                    <h3 class="text-white font-bold mb-4">Sample Policy Rulebase</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-xs">
                            <thead>
                                <tr class="text-left text-cyan-400 border-b border-gray-700">
                                    <th class="py-2 pr-2">#</th>
                                    <th class="py-2 pr-2">Name</th>
                                    <th class="py-2 pr-2">Source</th>
                                    <th class="py-2 pr-2">Dest</th>
                                    <th class="py-2 pr-2">App</th>
                                    <th class="py-2 pr-2">Action</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-400">
                                <tr class="border-b border-gray-800">
                                    <td class="py-2 text-red-400">1</td>
                                    <td>Block-High-Risk</td>
                                    <td>Any</td>
                                    <td>Any</td>
                                    <td>tor, bittorrent</td>
                                    <td class="text-red-400">DENY</td>
                                </tr>
                                <tr class="border-b border-gray-800">
                                    <td class="py-2 text-green-400">2</td>
                                    <td>IT-Admin-Full</td>
                                    <td>IT-Group</td>
                                    <td>Any</td>
                                    <td>Any</td>
                                    <td class="text-green-400">ALLOW</td>
                                </tr>
                                <tr class="border-b border-gray-800">
                                    <td class="py-2 text-green-400">3</td>
                                    <td>Sales-CRM</td>
                                    <td>Sales</td>
                                    <td>Salesforce</td>
                                    <td>salesforce</td>
                                    <td class="text-green-400">ALLOW</td>
                                </tr>
                                <tr class="border-b border-gray-800">
                                    <td class="py-2 text-green-400">4</td>
                                    <td>All-Web</td>
                                    <td>Internal</td>
                                    <td>Any</td>
                                    <td>web-browsing</td>
                                    <td class="text-green-400">ALLOW</td>
                                </tr>
                                <tr class="border-b border-gray-800">
                                    <td class="py-2 text-red-400">5</td>
                                    <td>Block-Social</td>
                                    <td>Internal</td>
                                    <td>Any</td>
                                    <td>facebook</td>
                                    <td class="text-red-400">DENY</td>
                                </tr>
                                <tr>
                                    <td class="py-2 text-red-400">99</td>
                                    <td>Default-Deny</td>
                                    <td>Any</td>
                                    <td>Any</td>
                                    <td>Any</td>
                                    <td class="text-red-400">DENY</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- SECTION 9: NAT & HA -->
            <section class="mb-16">
                <h2 class="text-2xl font-bold mb-6 text-white flex items-center gap-3">
                    <span class="w-8 h-8 rounded-lg bg-yellow-500/20 flex items-center justify-center text-yellow-400">9</span>
                    NAT & High Availability
                </h2>

                <div class="grid md:grid-cols-2 gap-6 mb-6">
                    <div class="config-box rounded-xl p-5">
                        <h3 class="text-yellow-400 font-bold mb-3">NAT Types</h3>
                        <div class="space-y-3">
                            <div class="bg-black/30 rounded-lg p-3">
                                <p class="text-cyan-400 font-medium text-sm">Source NAT (SNAT)</p>
                                <p class="text-gray-400 text-xs">Outbound: Internal â†’ Public IP</p>
                                <p class="text-gray-500 text-xs">10.1.1.50 â†’ 203.0.113.5</p>
                            </div>
                            <div class="bg-black/30 rounded-lg p-3">
                                <p class="text-cyan-400 font-medium text-sm">Destination NAT (DNAT)</p>
                                <p class="text-gray-400 text-xs">Inbound: Public â†’ Internal server</p>
                                <p class="text-gray-500 text-xs">203.0.113.10:443 â†’ 10.1.2.100:443</p>
                            </div>
                            <div class="bg-black/30 rounded-lg p-3">
                                <p class="text-cyan-400 font-medium text-sm">Static NAT (1:1)</p>
                                <p class="text-gray-400 text-xs">Bidirectional 1:1 mapping</p>
                            </div>
                        </div>
                    </div>
                    <div class="config-box rounded-xl p-5">
                        <h3 class="text-yellow-400 font-bold mb-3">High Availability (HA)</h3>
                        <div class="space-y-3">
                            <div class="bg-black/30 rounded-lg p-3">
                                <p class="text-cyan-400 font-medium text-sm">Active/Passive (Common)</p>
                                <p class="text-gray-400 text-xs">One active, one standby. Sessions synced. Failover 1-3 seconds.</p>
                            </div>
                            <div class="bg-black/30 rounded-lg p-3">
                                <p class="text-cyan-400 font-medium text-sm">Active/Active</p>
                                <p class="text-gray-400 text-xs">Both active, load shared. Higher throughput, more complex.</p>
                            </div>
                        </div>
                        <div class="cli-block rounded-lg p-3 mt-3">
                            <pre class="text-xs text-green-400"># Palo Alto
> show high-availability state

# FortiGate
> get system ha status</pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 10: COMMON REQUESTS -->
            <section class="mb-16">
                <h2 class="text-2xl font-bold mb-6 text-white flex items-center gap-3">
                    <span class="w-8 h-8 rounded-lg bg-cyan-500/20 flex items-center justify-center text-cyan-400">10</span>
                    Common Requests & Workflows
                </h2>

                <div class="request-box rounded-xl p-5 mb-4">
                    <h3 class="text-cyan-400 font-bold mb-3">ğŸ“‹ "Open firewall for new application"</h3>
                    <div class="cli-block rounded-lg p-4">
                        <pre class="text-xs text-gray-300">
1. GATHER REQUIREMENTS
   - What application? Who needs access? Business justification?

2. RESEARCH THE APPLICATION
   - Check if App-ID exists, what ports/protocols

3. CREATE THE RULE (least privilege)
   - Specific users/groups, App-ID, security profiles

4. TEST & VALIDATE
   - Have requester test, verify in logs

5. DOCUMENT & CLOSE</pre>
                    </div>
                </div>

                <div class="request-box rounded-xl p-5 mb-4">
                    <h3 class="text-cyan-400 font-bold mb-3">ğŸ“‹ "User reports website blocked"</h3>
                    <div class="cli-block rounded-lg p-4">
                        <pre class="text-xs text-gray-300">
1. GET DETAILS - Exact URL, error message, user IP, time

2. CHECK LOGS
   > show log url | match domain.com  (Palo Alto)
   > execute log display               (FortiGate)

3. IDENTIFY CAUSE
   - URL category? App-ID? Threat? SSL issue?

4. RESOLUTION
   a) Legitimate block â†’ Explain to user
   b) Miscategorized â†’ Submit recategorization
   c) Business need â†’ Create exception with approval</pre>
                    </div>
                </div>

                <div class="request-box rounded-xl p-5 mb-4">
                    <h3 class="text-cyan-400 font-bold mb-3">ğŸ“‹ "Publish internal server to internet"</h3>
                    <div class="cli-block rounded-lg p-4">
                        <pre class="text-xs text-gray-300">
1. SECURITY REVIEW
   - Is this necessary? Consider VPN/Zero Trust
   - Is app security tested and patched?

2. ARCHITECTURE
   - Place in DMZ, use reverse proxy/WAF if possible

3. CONFIGURATION
   - DNAT: Public IP:Port â†’ Internal IP:Port
   - Policy: UNTRUST â†’ DMZ with IPS, AV profiles

4. ADDITIONAL CONTROLS
   - SSL decryption, geo-blocking, DDoS protection

5. MONITORING - Create alerts, log all access</pre>
                    </div>
                </div>

                <div class="request-box rounded-xl p-5">
                    <h3 class="text-red-400 font-bold mb-3">ğŸš¨ Emergency: "Block malicious IP NOW"</h3>
                    <div class="cli-block rounded-lg p-4">
                        <pre class="text-xs text-green-400">
# IMMEDIATE (Don't wait for change management)

# Palo Alto
> set address "Block-Malicious" ip-netmask 1.2.3.4/32
> set rulebase security rules "Emergency-Block" from any to any \
    destination "Block-Malicious" action deny
> move rulebase security rules "Emergency-Block" top
> commit

# FortiGate
> config firewall address
    edit "Block-Malicious"
      set subnet 1.2.3.4/32
    next
  end

Then: Verify block, investigate, document, add to permanent list</pre>
                    </div>
                </div>
            </section>

            <!-- SECTION 11: TROUBLESHOOTING -->
            <section class="mb-16">
                <h2 class="text-2xl font-bold mb-6 text-white flex items-center gap-3">
                    <span class="w-8 h-8 rounded-lg bg-red-500/20 flex items-center justify-center text-red-400">11</span>
                    Troubleshooting Guide
                </h2>

                <div class="troubleshoot rounded-xl p-5 mb-4">
                    <h3 class="text-red-400 font-bold mb-3">ğŸ”§ Traffic Blocked Unexpectedly</h3>
                    <div class="cli-block rounded-lg p-4">
                        <pre class="text-xs text-green-400">
# Step 1: Check traffic logs
> show log traffic src 10.1.1.50 dst 8.8.8.8     # Palo Alto
> diagnose sniffer packet any "host 10.1.1.50" 4  # FortiGate

# Step 2: Test policy match
> test security-policy-match source 10.1.1.50 \
    destination 8.8.8.8 destination-port 443 protocol 6

Common Causes:
â–¡ Implicit deny (no matching allow rule)
â–¡ App-ID mismatch (rule says "web-browsing" but app is "zoom")
â–¡ User-ID not mapping correctly
â–¡ Security profile blocking (AV, IPS, URL)
â–¡ Zone assignment wrong</pre>
                    </div>
                </div>

                <div class="troubleshoot rounded-xl p-5 mb-4">
                    <h3 class="text-red-400 font-bold mb-3">ğŸ”§ Slow Performance / High CPU</h3>
                    <div class="cli-block rounded-lg p-4">
                        <pre class="text-xs text-green-400">
# Check utilization
> show system resources             # Palo Alto
> get system performance status     # FortiGate

High CPU Causes:
â–¡ SSL decryption overload
â–¡ Too many IPS signatures enabled
â–¡ Logging volume too high
â–¡ Too many rules (inefficient lookup)

Solutions:
- SSL exclusions for safe high-bandwidth sites
- Tune IPS to relevant signatures only
- Optimize rule order, remove unused rules</pre>
                    </div>
                </div>

                <div class="troubleshoot rounded-xl p-5 mb-4">
                    <h3 class="text-red-400 font-bold mb-3">ğŸ”§ SSL Decryption Breaking Apps</h3>
                    <div class="cli-block rounded-lg p-4">
                        <pre class="text-xs text-gray-300">
Symptoms: Certificate errors, app failures, mobile apps broken

Causes:
â–¡ Certificate Pinning - App expects specific cert
â–¡ CA Not Trusted - Client missing FW's CA cert
â–¡ Mutual TLS (mTLS) - Client cert auth breaks

Solution: Add to decryption exclusion list
# Palo Alto: Objects > Decryption > No-Decrypt
# FortiGate: SSL inspection exempt list</pre>
                    </div>
                </div>

                <div class="troubleshoot rounded-xl p-5">
                    <h3 class="text-red-400 font-bold mb-3">ğŸ”§ User-ID Not Working</h3>
                    <div class="cli-block rounded-lg p-4">
                        <pre class="text-xs text-green-400">
# Check mapping
> show user ip-user-mapping ip 10.1.1.50    # Palo Alto
> diagnose firewall auth list               # FortiGate

# Check agent connectivity
> show user user-id-agent state all         # Palo Alto
> diagnose debug authd fsso server-status   # FortiGate

Common Causes:
â–¡ User-ID Agent not running
â–¡ WMI access denied to domain controllers
â–¡ DHCP IP changed, mapping stale</pre>
                    </div>
                </div>
            </section>

            <!-- SECTION 12: DEPLOYMENT & CLI -->
            <section class="mb-16">
                <h2 class="text-2xl font-bold mb-6 text-white flex items-center gap-3">
                    <span class="w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center text-purple-400">12</span>
                    Deployment & CLI Reference
                </h2>

                <div class="card rounded-xl p-5 mb-6">
                    <h3 class="text-white font-bold mb-4">Deployment Checklist</h3>
                    <div class="grid md:grid-cols-2 gap-4 text-sm">
                        <div class="bg-black/30 rounded-lg p-4">
                            <p class="text-cyan-400 font-medium mb-2">Phase 1: Planning</p>
                            <ul class="text-gray-400 space-y-1 text-xs">
                                <li>â˜ Gather requirements (throughput, features)</li>
                                <li>â˜ Size hardware appropriately</li>
                                <li>â˜ Design zone architecture</li>
                                <li>â˜ Document existing rules for migration</li>
                            </ul>
                        </div>
                        <div class="bg-black/30 rounded-lg p-4">
                            <p class="text-cyan-400 font-medium mb-2">Phase 2: Lab Setup</p>
                            <ul class="text-gray-400 space-y-1 text-xs">
                                <li>â˜ Initial config & firmware update</li>
                                <li>â˜ Configure interfaces and zones</li>
                                <li>â˜ Set up logging to SIEM</li>
                                <li>â˜ Integrate with AD for User-ID</li>
                            </ul>
                        </div>
                        <div class="bg-black/30 rounded-lg p-4">
                            <p class="text-cyan-400 font-medium mb-2">Phase 3: Pre-Production</p>
                            <ul class="text-gray-400 space-y-1 text-xs">
                                <li>â˜ Configure HA & test failover</li>
                                <li>â˜ Migrate all security rules</li>
                                <li>â˜ Configure NAT policies</li>
                                <li>â˜ Test critical applications</li>
                            </ul>
                        </div>
                        <div class="bg-black/30 rounded-lg p-4">
                            <p class="text-cyan-400 font-medium mb-2">Phase 4: Cutover</p>
                            <ul class="text-gray-400 space-y-1 text-xs">
                                <li>â˜ Schedule maintenance window</li>
                                <li>â˜ Prepare rollback plan</li>
                                <li>â˜ Execute during low-traffic</li>
                                <li>â˜ Monitor intensively post-cutover</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-6 mb-6">
                    <div class="card vendor-palo rounded-xl p-5">
                        <h3 class="text-orange-400 font-bold text-lg mb-4">Palo Alto CLI Reference</h3>
                        <div class="cli-block rounded-lg p-3 mb-3">
                            <p class="text-cyan-400 text-xs font-medium mb-2">System & Status</p>
                            <pre class="text-xs text-green-400">> show system info
> show system resources
> show high-availability state
> show session info</pre>
                        </div>
                        <div class="cli-block rounded-lg p-3 mb-3">
                            <p class="text-cyan-400 text-xs font-medium mb-2">Traffic & Logs</p>
                            <pre class="text-xs text-green-400">> show log traffic
> show log threat
> show log url
> show session all filter source 10.1.1.50</pre>
                        </div>
                        <div class="cli-block rounded-lg p-3">
                            <p class="text-cyan-400 text-xs font-medium mb-2">Configuration</p>
                            <pre class="text-xs text-green-400">> configure
# set ... (make changes)
# commit
> show config running</pre>
                        </div>
                    </div>

                    <div class="card vendor-forti rounded-xl p-5">
                        <h3 class="text-red-400 font-bold text-lg mb-4">FortiGate CLI Reference</h3>
                        <div class="cli-block rounded-lg p-3 mb-3">
                            <p class="text-cyan-400 text-xs font-medium mb-2">System & Status</p>
                            <pre class="text-xs text-green-400">> get system status
> get system performance status
> get system ha status
> diagnose sys top</pre>
                        </div>
                        <div class="cli-block rounded-lg p-3 mb-3">
                            <p class="text-cyan-400 text-xs font-medium mb-2">Traffic & Logs</p>
                            <pre class="text-xs text-green-400">> execute log filter category 0
> execute log display
> diagnose sniffer packet any "host x.x.x.x" 4
> diagnose sys session list</pre>
                        </div>
                        <div class="cli-block rounded-lg p-3">
                            <p class="text-cyan-400 text-xs font-medium mb-2">Configuration</p>
                            <pre class="text-xs text-green-400">> config firewall policy
    edit 1
      set name "rule"
    next
  end
> show firewall policy</pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- INTERVIEW QUESTIONS -->
            <section class="mb-16">
                <h2 class="text-2xl font-bold mb-6 text-white flex items-center gap-3">
                    <span class="w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center text-purple-400">13</span>
                    Interview Questions & Answers
                </h2>

                <div class="space-y-4">
                    <div class="interview rounded-xl p-5">
                        <p class="text-purple-400 font-bold mb-3">Q: What's the difference between a traditional firewall and an NGFW?</p>
                        <p class="text-gray-300 text-sm">"Traditional firewalls operate at Layers 3-4, making decisions based on IP addresses and ports. NGFWs add Layer 7 visibility - they identify applications regardless of port, integrate with AD for user-based policies, decrypt SSL traffic, and include integrated IPS, URL filtering, and sandboxing. The key differentiator is application awareness - an NGFW knows if someone is using legitimate HTTPS or tunneling BitTorrent over port 443."</p>
                    </div>

                    <div class="interview rounded-xl p-5">
                        <p class="text-purple-400 font-bold mb-3">Q: How do you troubleshoot a user who can't access a website?</p>
                        <p class="text-gray-300 text-sm">"First, I get specifics - the exact URL, error message, user's IP, and time. Then I check traffic logs filtered by source IP. I look for whether it's a deny, which rule matched, and why. Common causes: URL category block, App-ID mismatch, security profile blocking, or SSL decryption issues. If legitimate, I create an exception through change management. If it's a valid block, I explain to the user. I always test after changes to confirm the fix."</p>
                    </div>

                    <div class="interview rounded-xl p-5">
                        <p class="text-purple-400 font-bold mb-3">Q: Explain SSL decryption and its considerations.</p>
                        <p class="text-gray-300 text-sm">"SSL decryption is essential because 90%+ of traffic is encrypted. The firewall acts as a man-in-the-middle - it intercepts the TLS handshake, presents its own certificate to the client, and establishes a separate encrypted session with the server. Key considerations: performance impact (CPU-intensive), privacy (need HR/legal approval), exclusions (never decrypt banking, healthcare, certificate-pinned apps), and certificate deployment (clients must trust the firewall's CA via GPO or MDM)."</p>
                    </div>

                    <div class="interview rounded-xl p-5">
                        <p class="text-purple-400 font-bold mb-3">Q: How do you approach firewall rule cleanup?</p>
                        <p class="text-gray-300 text-sm">"I run reports showing rules with zero hits over 90 days. But I don't just delete them. First, I disable with a date tag, wait 30 days, and monitor for breakage. I also look for shadow rules that never match, overlapping rules where a broader rule makes specific ones redundant, and duplicates. I document everything in change management. The goal is reducing attack surface and improving performance without breaking anything."</p>
                    </div>

                    <div class="interview rounded-xl p-5">
                        <p class="text-purple-400 font-bold mb-3">Q: Walk me through handling an emergency IP block request.</p>
                        <p class="text-gray-300 text-sm">"For emergencies, I act first and document later. I immediately create an address object for the malicious IP, add a deny rule at the top of the policy, and commit. Then I verify the block by checking logs. After containment, I investigate - what triggered this? Check historical logs for internal hosts that communicated with it. I create an incident ticket, add the IOCs to our threat intel, and eventually move the temporary block to a permanent blocklist."</p>
                    </div>

                    <div class="interview rounded-xl p-5">
                        <p class="text-purple-400 font-bold mb-3">Q: How do you balance security with business agility for firewall changes?</p>
                        <p class="text-gray-300 text-sm">"I use a formal change management process but with risk-based urgency. Standard changes go through normal review - business justification, security assessment, least privilege, testing plan. But I have pre-approved emergency procedures for security incidents. For all changes, I push back on overly broad rules - 'any to any' is never acceptable. I use App-ID instead of just ports when possible. I do quarterly reviews to identify unused rules - stale rules are security debt."</p>
                    </div>

                    <div class="interview rounded-xl p-5">
                        <p class="text-purple-400 font-bold mb-3">Q: Describe a typical day managing firewalls.</p>
                        <p class="text-gray-300 text-sm">"Morning starts with checking overnight alerts - critical threats blocked, HA events, capacity warnings. Then I review the queue of firewall change requests - analyze each for security risk, verify business justification, ensure least privilege. After implementing approved changes, I test and update tickets. Throughout the day, I troubleshoot connectivity issues - checking logs, identifying blocking rules. Proactively, I review unused rules, optimize rule order, check for firmware updates. Weekly I review threat logs for patterns, monthly I generate reports for management."</p>
                    </div>
                </div>
            </section>

            <!-- QUICK REFERENCE -->
            <section class="mb-16">
                <h2 class="text-2xl font-bold mb-6 text-white flex items-center gap-3">
                    <span class="w-8 h-8 rounded-lg bg-yellow-500/20 flex items-center justify-center text-yellow-400">14</span>
                    Quick Reference
                </h2>

                <div class="grid md:grid-cols-2 gap-6 mb-6">
                    <div class="card rounded-xl p-5">
                        <h3 class="text-yellow-400 font-bold mb-3">ğŸ§  Key Terms</h3>
                        <ul class="text-gray-300 text-sm space-y-1">
                            <li><strong>App-ID:</strong> Application identification (Layer 7)</li>
                            <li><strong>User-ID:</strong> IP-to-user mapping</li>
                            <li><strong>DPI:</strong> Deep Packet Inspection</li>
                            <li><strong>UTM:</strong> Unified Threat Management</li>
                            <li><strong>IPS:</strong> Intrusion Prevention System</li>
                            <li><strong>NAT:</strong> Network Address Translation</li>
                            <li><strong>SNAT/DNAT:</strong> Source/Destination NAT</li>
                            <li><strong>HA:</strong> High Availability</li>
                            <li><strong>EDL:</strong> External Dynamic List</li>
                            <li><strong>VIP:</strong> Virtual IP (for DNAT)</li>
                        </ul>
                    </div>

                    <div class="card rounded-xl p-5">
                        <h3 class="text-yellow-400 font-bold mb-3">ğŸ”¢ Common Ports</h3>
                        <div class="text-gray-300 text-xs font-mono space-y-1">
                            <p>20-21: FTP | 22: SSH | 23: Telnet</p>
                            <p>25: SMTP | 53: DNS | 67-68: DHCP</p>
                            <p>80: HTTP | 110: POP3 | 143: IMAP</p>
                            <p>443: HTTPS | 445: SMB | 389: LDAP</p>
                            <p>636: LDAPS | 1433: MSSQL | 3306: MySQL</p>
                            <p>3389: RDP | 5432: PostgreSQL</p>
                            <p>8080: HTTP-Alt | 8443: HTTPS-Alt</p>
                            <p>500/4500: IPSec VPN | 1194: OpenVPN</p>
                        </div>
                    </div>
                </div>

                <div class="card rounded-xl p-5 mb-6">
                    <h3 class="text-yellow-400 font-bold mb-3">ğŸ“‹ Daily Operations Checklist</h3>
                    <div class="grid md:grid-cols-3 gap-4 text-sm">
                        <div>
                            <p class="text-white font-medium mb-2">Morning</p>
                            <ul class="text-gray-400 space-y-1 text-xs">
                                <li>â˜ Check critical threat alerts</li>
                                <li>â˜ Review overnight HA events</li>
                                <li>â˜ Check system health</li>
                                <li>â˜ Review failed admin logins</li>
                            </ul>
                        </div>
                        <div>
                            <p class="text-white font-medium mb-2">Changes</p>
                            <ul class="text-gray-400 space-y-1 text-xs">
                                <li>â˜ Process rule change requests</li>
                                <li>â˜ Implement approved changes</li>
                                <li>â˜ Test before closing</li>
                                <li>â˜ Document all modifications</li>
                            </ul>
                        </div>
                        <div>
                            <p class="text-white font-medium mb-2">Periodic</p>
                            <ul class="text-gray-400 space-y-1 text-xs">
                                <li>â˜ Weekly: Review unused rules</li>
                                <li>â˜ Monthly: Threat log review</li>
                                <li>â˜ Quarterly: Rule cleanup</li>
                                <li>â˜ Annual: Policy audit</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- MEMORIZATION BOX -->
                <div class="card rounded-xl p-6 border-2 border-purple-500/50">
                    <h3 class="text-purple-400 font-bold text-xl mb-4">ğŸ“ Key Points to Memorize for Interview</h3>
                    <div class="grid md:grid-cols-2 gap-6 text-sm">
                        <div>
                            <p class="text-white font-medium mb-2">NGFW vs Traditional FW:</p>
                            <ul class="text-gray-400 space-y-1">
                                <li>â€¢ Traditional: L3-4 (IP/Port)</li>
                                <li>â€¢ NGFW: L7 (Application)</li>
                                <li>â€¢ App-ID identifies apps regardless of port</li>
                                <li>â€¢ User-ID maps IP â†’ AD username</li>
                                <li>â€¢ Integrated: IPS, AV, URL, Sandboxing</li>
                            </ul>
                        </div>
                        <div>
                            <p class="text-white font-medium mb-2">Policy Processing:</p>
                            <ul class="text-gray-400 space-y-1">
                                <li>â€¢ First match wins (top-down)</li>
                                <li>â€¢ Specific rules before general</li>
                                <li>â€¢ Always end with default deny</li>
                                <li>â€¢ Zone â†’ User â†’ App â†’ Action</li>
                            </ul>
                        </div>
                        <div>
                            <p class="text-white font-medium mb-2">Common Zones:</p>
                            <ul class="text-gray-400 space-y-1">
                                <li>â€¢ UNTRUST: Internet (deny inbound)</li>
                                <li>â€¢ TRUST: Internal LAN</li>
                                <li>â€¢ DMZ: Public-facing servers</li>
                                <li>â€¢ GUEST: Isolated internet-only</li>
                            </ul>
                        </div>
                        <div>
                            <p class="text-white font-medium mb-2">Troubleshooting:</p>
                            <ul class="text-gray-400 space-y-1">
                                <li>â€¢ 1. Check traffic logs for deny</li>
                                <li>â€¢ 2. Identify which rule matched</li>
                                <li>â€¢ 3. Test policy match command</li>
                                <li>â€¢ 4. Check App-ID, User-ID, profiles</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

        </div>
    </main>
<script src="../js/sidebar.js"></script>
</body>
</html>
